
<dashboard version="2" theme="dark">
    <label>Splunk Supported Versions</label>
    <description>Displays information about end of life for different Splunk products and their corresponding versions.</description>
    <definition><![CDATA[
{
	"visualizations": {
		"viz_dDPSuSiY": {
			"type": "splunk.table",
			"options": {
				"columnFormat": {
					"Current Version": {
						"width": 112
					},
					"product": {
						"width": 30
					},
					"Release Date": {
						"width": 135
					},
					"Product": {
						"width": 115
					},
					"Supported?": {
						"data": "> table | seriesByName(\"Supported?\") | formatByType(Supported_ColumnFormatEditorConfig)",
						"rowColors": "> table | seriesByName('Supported?') | pick(Supported_RowColorsEditorConfig)",
						"rowBackgroundColors": "> table | seriesByName(\"Supported?\") | matchValue(Supported_RowBackgroundColorsEditorConfig)"
					}
				},
				"count": 5
			},
			"dataSources": {
				"primary": "ds_hyF3uG2J"
			},
			"title": "Current Version",
			"context": {
				"Supported_ColumnFormatEditorConfig": {
					"string": {
						"unitPosition": "after"
					}
				},
				"Supported_RowColorsEditorConfig": [
					"#ffffff"
				],
				"Supported_RowBackgroundColorsEditorConfig": [
					{
						"match": "no",
						"value": "#78062a"
					},
					{
						"match": "yes",
						"value": "#2f8811"
					}
				]
			}
		},
		"viz_ikOKnEWB": {
			"type": "splunk.table",
			"dataSources": {
				"primary": "ds_HECk31Og"
			},
			"title": "Supported Versions",
			"options": {
				"columnFormat": {
					"Current Version": {
						"width": 88
					},
					"Product": {
						"width": 71
					},
					"version": {
						"width": 30
					},
					"Release Date": {
						"width": 47
					},
					"Version": {
						"width": 42
					},
					"Currently Supported": {
						"data": "> table | seriesByName(\"Currently Supported\") | formatByType(Currently_SupportedColumnFormatEditorConfig)",
						"rowColors": "> table | seriesByName('Currently Supported') | pick(Currently_SupportedRowColorsEditorConfig)",
						"rowBackgroundColors": "> table | seriesByName(\"Currently Supported\") | matchValue(Currently_SupportedRowBackgroundColorsEditorConfig)"
					}
				},
				"showInternalFields": false,
				"count": 15
			},
			"context": {
				"Currently_SupportedColumnFormatEditorConfig": {
					"string": {
						"unitPosition": "after"
					}
				},
				"Currently_SupportedRowColorsEditorConfig": [
					"#ffffff"
				],
				"Currently_SupportedRowBackgroundColorsEditorConfig": [
					{
						"match": "no",
						"value": "#78062a"
					},
					{
						"match": "yes",
						"value": "#2f8811"
					}
				]
			}
		},
		"viz_l5ONce4B": {
			"type": "splunk.table",
			"options": {
				"count": 5,
				"columnFormat": {
					"Supported?": {
						"data": "> table | seriesByName(\"Supported?\") | formatByType(Supported_ColumnFormatEditorConfig)",
						"rowColors": "> table | seriesByName('Supported?') | pick(Supported_RowColorsEditorConfig)",
						"rowBackgroundColors": "> table | seriesByName(\"Supported?\") | matchValue(Supported_RowBackgroundColorsEditorConfig)"
					},
					"Product": {
						"width": 118
					}
				}
			},
			"dataSources": {
				"primary": "ds_c4VuecGA"
			},
			"context": {
				"Supported_ColumnFormatEditorConfig": {
					"string": {
						"unitPosition": "after"
					}
				},
				"Supported_RowColorsEditorConfig": [
					"#ffffff"
				],
				"Supported_RowBackgroundColorsEditorConfig": [
					{
						"match": "no",
						"value": "#78062a"
					},
					{
						"match": "yes",
						"value": "#2f8811"
					}
				]
			}
		},
		"viz_2tcMo4YA": {
			"type": "splunk.table",
			"dataSources": {
				"primary": "ds_JCYdEc1C"
			},
			"title": "",
			"options": {
				"showInternalFields": false,
				"columnFormat": {
					"Product": {
						"width": 141
					},
					"Release Date": {
						"width": 127
					},
					"Current Version": {
						"width": 111
					},
					"End of Life": {
						"width": 101
					},
					"Supported?": {
						"data": "> table | seriesByName(\"Supported?\") | formatByType(Supported_ColumnFormatEditorConfig)",
						"rowColors": "> table | seriesByName('Supported?') | pick(Supported_RowColorsEditorConfig)",
						"rowBackgroundColors": "> table | seriesByName(\"Supported?\") | matchValue(Supported_RowBackgroundColorsEditorConfig)"
					}
				}
			},
			"context": {
				"Supported_ColumnFormatEditorConfig": {
					"string": {
						"unitPosition": "after"
					}
				},
				"Supported_RowColorsEditorConfig": [
					"#ffffff"
				],
				"Supported_RowBackgroundColorsEditorConfig": [
					{
						"match": "no",
						"value": "#78062a"
					},
					{
						"match": "yes",
						"value": "#2f8811"
					}
				]
			}
		}
	},
	"dataSources": {
		"ds_hyF3uG2J": {
			"type": "ds.search",
			"options": {
				"query": "| inputlookup svd_splunk_version\n| rex field=getVersion \"(?<installedVersion>^\\d+\\.\\d+)\"\n| fields - match, getVersion\n| lookup svd_splunk_core_supported_versions version AS installedVersion OUTPUTNEW product, release, support_end\n| eval product = if(product==\"core\", \"Splunk Enterprise\", product)\n| eval currDate = strftime(now(), \"%Y-%m-%d\")\n| eval currentEpoch = strptime(currDate, \"%Y-%m-%d\")\n| eval futureEpoch = strptime(support_end, \"%Y-%m-%d\")\n| eval is_supported = if(currentEpoch <= futureEpoch, \"yes\", \"no\")\n| table product, installedVersion, release, support_end, is_supported\n|  search is_supported=\"$tok_sup$\"\n| rename product AS Product, release AS \"Release Date\", support_end AS \"End of Life\", installedVersion AS \"Current Version\", is_supported AS \"Supported?\"\n",
				"queryParameters": {
					"earliest": "-30d@d",
					"latest": "now"
				}
			},
			"name": "get_core_version"
		},
		"ds_HECk31Og": {
			"type": "ds.search",
			"options": {
				"query": "| inputlookup svd_splunk_core_supported_versions \n| append \n    [| inputlookup svd_splunk_es_supported_versions ] \n| append \n    [| inputlookup svd_splunk_itsi_supported_versions ] \n| append \n    [| inputlookup svd_splunk_soar_supported_versions ] \n| append \n    [| inputlookup svd_splunk_uba_supported_versions ] \n| append \n    [| inputlookup svd_splunk_uf_supported_versions ] \n| sort +product, -version \n| eval productName = case( product==\"core\", \"Splunk Enterprise\",\nproduct==\"es\", \"Splunk Enterprise Security\",\nproduct==\"itsi\", \"IT Service Intelligence\",\nproduct==\"uba\", \"User Behavior Analytics\",\nproduct==\"soar\", \"SOAR\",\nproduct==\"uf\", \"Splunk Universal Forwarder\",\n1==1, product\n)\n``` Here we get the epoch values from the actual date and the future end of life dates to say whether the releases are still supported or not ``` \n| eval currDate = strftime(now(), \"%Y-%m-%d\")\n| eval currentEpoch = strptime(currDate, \"%Y-%m-%d\")\n| eval futureEpoch = strptime(support_end, \"%Y-%m-%d\")\n| eval is_supported = if(currentEpoch <= futureEpoch, \"yes\", \"no\")\n| search product IN ($tok_product$) AND version=\"$tok_version$\" AND release!=\"-\" AND is_supported=\"$tok_sup$\"\n| fields - product\n| table productName, version, release, support_end, is_supported\n| rename productName AS Product, version AS Version, release AS \"Release Date\", support_end AS \"End of Life\", is_supported AS \"Currently Supported\"",
				"queryParameters": {
					"earliest": "-30d@d",
					"latest": "now"
				}
			},
			"name": "displayAllVersions"
		},
		"ds_c4VuecGA": {
			"type": "ds.search",
			"options": {
				"query": "| inputlookup svd_uf_versions.csv\n| rex field=version \"(?<installedVersion>^\\d+\\.\\d+)\"\n| fields - version\n| lookup svd_splunk_uf_supported_versions version AS installedVersion OUTPUTNEW product, release, support_end\n| eval currDate = strftime(now(), \"%Y-%m-%d\")\n| eval currentEpoch = strptime(currDate, \"%Y-%m-%d\")\n| eval futureEpoch = strptime(support_end, \"%Y-%m-%d\")\n| eval is_supported = if(currentEpoch <= futureEpoch, \"yes\", \"no\")\n| fields - currDate, *Epoch, product\n| table evalUf, installedVersion, OS, release, support_end, is_supported\n| search is_supported=\"$tok_sup$\" \n| rename evalUf AS Product, release AS \"Release Date\", support_end AS \"End of Life\", installedVersion AS \"Current Version\", is_supported AS \"Supported?\"",
				"queryParameters": {
					"earliest": "-7d@h",
					"latest": "now"
				}
			},
			"name": "getUf"
		},
		"ds_JCYdEc1C": {
			"type": "ds.search",
			"options": {
				"query": "index=\"app_eavc\" sourcetype=\"eavc:mc_apps\" label=\"IT Service Intelligence\" (disabled=\"0\" OR disabled=\"false\") \n| fields label, version \n| rex field=version \"(?<installedVersion>\\d+\\.\\d+)\"\n| lookup svd_splunk_itsi_supported_versions version AS installedVersion OUTPUTNEW release, support_end \n| fields label, installedVersion, release, support_end \n| append \n    [| search index=\"app_eavc\" sourcetype=\"eavc:mc_apps\" label=\"Enterprise Security\" (disabled=\"0\" OR disabled=\"false\") \n    | fields label, version \n    | rex field=version \"(?<installedVersion>\\d+\\.\\d+)\"\n    | lookup svd_splunk_es_supported_versions version AS installedVersion OUTPUTNEW release, support_end \n    | fields label, installedVersion, release, support_end\n        ] \n| eval currDate = strftime(now(), \"%Y-%m-%d\") \n| eval currentEpoch = strptime(currDate, \"%Y-%m-%d\") \n| eval futureEpoch = strptime(support_end, \"%Y-%m-%d\") \n| eval is_supported = if(currentEpoch <= futureEpoch, \"yes\", \"no\") \n| table label, installedVersion, release, support_end, is_supported \n| search is_supported=\"$tok_sup$\" \n| rename label AS Product, installedVersion AS \"Current Version\" release AS \"Release Date\", support_end AS \"End of Life\", is_supported AS \"Supported?\"",
				"queryParameters": {
					"earliest": "-30d@d",
					"latest": "now"
				}
			},
			"name": "get_es_and_itsi_versions"
		}
	},
	"defaults": {
		"dataSources": {
			"ds.search": {
				"options": {
					"queryParameters": {
						"latest": "$global_time.latest$",
						"earliest": "$global_time.earliest$"
					}
				}
			}
		}
	},
	"inputs": {
		"input_na5IDJoK": {
			"options": {
				"items": [
					{
						"label": "All",
						"value": "*"
					},
					{
						"label": "Splunk Enterprise",
						"value": "core"
					},
					{
						"label": "Splunk Enterprise Security",
						"value": "es"
					},
					{
						"label": "Splunk IT Service Intelligence",
						"value": "itsi"
					},
					{
						"label": "Splunk Universal Forwarder",
						"value": "uf"
					},
					{
						"label": "SOAR",
						"value": "soar"
					},
					{
						"label": "Splunk User Behavior Analytics",
						"value": "uba"
					}
				],
				"defaultValue": [
					"*"
				],
				"token": "tok_product"
			},
			"title": "Select Products",
			"type": "input.multiselect"
		},
		"input_IrhRfuej": {
			"options": {
				"defaultValue": "*",
				"token": "tok_version"
			},
			"title": "Search specific version:",
			"type": "input.text"
		},
		"input_gnbNVkxX": {
			"options": {
				"items": [
					{
						"label": "All",
						"value": "*"
					},
					{
						"label": "Yes",
						"value": "yes"
					},
					{
						"label": "No",
						"value": "no"
					}
				],
				"defaultValue": "*",
				"token": "tok_sup"
			},
			"title": "Currently supported",
			"type": "input.dropdown"
		}
	},
	"layout": {
		"type": "grid",
		"options": {
			"width": 1440,
			"height": 960
		},
		"structure": [
			{
				"item": "viz_ikOKnEWB",
				"type": "block",
				"position": {
					"x": 0,
					"y": 0,
					"w": 805,
					"h": 692
				}
			},
			{
				"item": "viz_l5ONce4B",
				"type": "block",
				"position": {
					"x": 805,
					"y": 409,
					"w": 635,
					"h": 283
				}
			},
			{
				"item": "viz_dDPSuSiY",
				"type": "block",
				"position": {
					"x": 805,
					"y": 0,
					"w": 635,
					"h": 200
				}
			},
			{
				"item": "viz_2tcMo4YA",
				"type": "block",
				"position": {
					"x": 805,
					"y": 200,
					"w": 635,
					"h": 209
				}
			}
		],
		"globalInputs": [
			"input_na5IDJoK",
			"input_IrhRfuej",
			"input_gnbNVkxX"
		]
	},
	"description": "Displays information about end of life for different Splunk products and their corresponding versions.",
	"title": "Splunk Supported Versions"
}
    ]]></definition>
    <meta type="hiddenElements"><![CDATA[
{
	"hideEdit": false,
	"hideOpenInSearch": false,
	"hideExport": false
}
    ]]></meta>
</dashboard>